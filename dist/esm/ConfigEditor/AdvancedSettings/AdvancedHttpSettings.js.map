{"version":3,"file":"AdvancedHttpSettings.js","sources":["../../../../src/ConfigEditor/AdvancedSettings/AdvancedHttpSettings.tsx"],"sourcesContent":["import React from 'react';\nimport { css, cx } from '@emotion/css';\nimport { InlineField, Input, TagsInput } from '@grafana/ui';\nimport { ConfigSubSection } from '../ConfigSection';\nimport { Config, OnChangeHandler } from '../types';\n\nexport type Props<C extends Config = Config> = {\n  config: C;\n  onChange: OnChangeHandler<C>;\n  className?: string;\n};\n\nexport const AdvancedHttpSettings: <C extends Config = Config>(props: Props<C>) => JSX.Element = ({\n  config,\n  onChange,\n  className,\n}) => {\n  const onCookiesChange = (cookies: string[]) => {\n    onChange({\n      ...config,\n      jsonData: {\n        ...config.jsonData,\n        keepCookies: cookies,\n      },\n    });\n  };\n\n  const onTimeoutChange = (event: React.FormEvent<HTMLInputElement>) => {\n    onChange({\n      ...config,\n      jsonData: {\n        ...config.jsonData,\n        timeout: parseInt(event.currentTarget.value, 10),\n      },\n    });\n  };\n\n  const styles = {\n    container: css({\n      maxWidth: 578,\n    }),\n  };\n\n  return (\n    <ConfigSubSection title=\"Advanced HTTP settings\" className={cx(styles.container, className)}>\n      <InlineField\n        htmlFor=\"advanced-http-cookies\"\n        label=\"Allowed cookies\"\n        labelWidth={24}\n        tooltip=\"Grafana proxy deletes forwarded cookies by default. Specify cookies by name that should be forwarded to the data source.\"\n        disabled={config.readOnly}\n        grow\n      >\n        <TagsInput\n          id=\"advanced-http-cookies\"\n          placeholder=\"New cookie (hit enter to add)\"\n          tags={config.jsonData.keepCookies}\n          onChange={onCookiesChange}\n        />\n      </InlineField>\n\n      <InlineField\n        htmlFor=\"advanced-http-timeout\"\n        label=\"Timeout\"\n        labelWidth={24}\n        tooltip=\"HTTP request timeout in seconds\"\n        disabled={config.readOnly}\n        grow\n      >\n        <Input\n          id=\"advanced-http-timeout\"\n          type=\"number\"\n          min={0}\n          placeholder=\"Timeout in seconds\"\n          aria-label=\"Timeout in seconds\"\n          value={config.jsonData.timeout}\n          onChange={onTimeoutChange}\n        />\n      </InlineField>\n    </ConfigSubSection>\n  );\n};\n"],"names":["React"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAYO,MAAM,uBAAoF,CAAC;AAAA,EAChG,MAAA;AAAA,EACA,QAAA;AAAA,EACA,SAAA;AACF,CAAM,KAAA;AACJ,EAAM,MAAA,eAAA,GAAkB,CAAC,OAAsB,KAAA;AAC7C,IAAA,QAAA,CAAS,iCACJ,MADI,CAAA,EAAA;AAAA,MAEP,QAAA,EAAU,aACL,CAAA,cAAA,CAAA,EAAA,EAAA,MAAA,CAAO,QADF,CAAA,EAAA;AAAA,QAER,WAAa,EAAA,OAAA;AAAA,OACf,CAAA;AAAA,KACD,CAAA,CAAA,CAAA;AAAA,GACH,CAAA;AAEA,EAAM,MAAA,eAAA,GAAkB,CAAC,KAA6C,KAAA;AACpE,IAAA,QAAA,CAAS,iCACJ,MADI,CAAA,EAAA;AAAA,MAEP,QAAA,EAAU,aACL,CAAA,cAAA,CAAA,EAAA,EAAA,MAAA,CAAO,QADF,CAAA,EAAA;AAAA,QAER,OAAS,EAAA,QAAA,CAAS,KAAM,CAAA,aAAA,CAAc,OAAO,EAAE,CAAA;AAAA,OACjD,CAAA;AAAA,KACD,CAAA,CAAA,CAAA;AAAA,GACH,CAAA;AAEA,EAAA,MAAM,MAAS,GAAA;AAAA,IACb,WAAW,GAAI,CAAA;AAAA,MACb,QAAU,EAAA,GAAA;AAAA,KACX,CAAA;AAAA,GACH,CAAA;AAEA,EACE,uBAAAA,cAAA,CAAA,aAAA,CAAC,oBAAiB,KAAM,EAAA,wBAAA,EAAyB,WAAW,EAAG,CAAA,MAAA,CAAO,SAAW,EAAA,SAAS,CACxF,EAAA,kBAAAA,cAAA,CAAA,aAAA;AAAA,IAAC,WAAA;AAAA,IAAA;AAAA,MACC,OAAQ,EAAA,uBAAA;AAAA,MACR,KAAM,EAAA,iBAAA;AAAA,MACN,UAAY,EAAA,EAAA;AAAA,MACZ,OAAQ,EAAA,0HAAA;AAAA,MACR,UAAU,MAAO,CAAA,QAAA;AAAA,MACjB,IAAI,EAAA,IAAA;AAAA,KAAA;AAAA,oBAEJA,cAAA,CAAA,aAAA;AAAA,MAAC,SAAA;AAAA,MAAA;AAAA,QACC,EAAG,EAAA,uBAAA;AAAA,QACH,WAAY,EAAA,+BAAA;AAAA,QACZ,IAAA,EAAM,OAAO,QAAS,CAAA,WAAA;AAAA,QACtB,QAAU,EAAA,eAAA;AAAA,OAAA;AAAA,KACZ;AAAA,GAGF,kBAAAA,cAAA,CAAA,aAAA;AAAA,IAAC,WAAA;AAAA,IAAA;AAAA,MACC,OAAQ,EAAA,uBAAA;AAAA,MACR,KAAM,EAAA,SAAA;AAAA,MACN,UAAY,EAAA,EAAA;AAAA,MACZ,OAAQ,EAAA,iCAAA;AAAA,MACR,UAAU,MAAO,CAAA,QAAA;AAAA,MACjB,IAAI,EAAA,IAAA;AAAA,KAAA;AAAA,oBAEJA,cAAA,CAAA,aAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,EAAG,EAAA,uBAAA;AAAA,QACH,IAAK,EAAA,QAAA;AAAA,QACL,GAAK,EAAA,CAAA;AAAA,QACL,WAAY,EAAA,oBAAA;AAAA,QACZ,YAAW,EAAA,oBAAA;AAAA,QACX,KAAA,EAAO,OAAO,QAAS,CAAA,OAAA;AAAA,QACvB,QAAU,EAAA,eAAA;AAAA,OAAA;AAAA,KACZ;AAAA,GAEJ,CAAA,CAAA;AAEJ;;;;"}